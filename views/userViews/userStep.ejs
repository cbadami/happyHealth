<div class="app-main__inner">
  <section>
    <div class="container app-container-wrapper">
      <div class="row justify-content-center">
        <div class="col-lg-4">
          <form method="POST" class="my-5">
            <div class="form-group">
              <%- include ('../partials/messages') %>
              <h2 class="d-flex justify-content-center py-3">Step Count</h2>
            </div>
            <!--  <div class="form-row">
                            <label for="username">Date:</label>
                             Reference: https://eonasdan.github.io/bootstrap-datetimepicker/ 
                            <div class='input-group date' id='datetimepicker1'>
                                <input type='text' name="date" id="dateText"
                                    value="<%= typeof date != 'undefined' ? date : '' %>" />
                                <span class="input-group-addon">
                                    <span class="glyphicon glyphicon-calendar"></span>
                                </span>
                            </div>
                        </div> -->
            <div class="form-row">
              <label for="dateText">Today's Date and Time : &nbsp; </label>
              <p id="demo"></p>
              <!-- <input  id="demo" class="form-control" /> -->
            </div>

            <script>
              let d = new Date();
              const months = [
                "JAN",
                "FEB",
                "MAR",
                "APR",
                "MAY",
                "JUN",
                "JUL",
                "AUG",
                "SEP",
                "OCT",
                "NOV",
                "DEC",
              ];
              let formatted_date =
                months[d.getMonth()] +
                "-" +
                d.getDate() +
                "-" +
                d.getFullYear() +
                "  " +
                d.getHours() +
                ":" +
                d.getMinutes() +
                ":" +
                d.getSeconds();
              document.getElementById("demo").innerHTML = formatted_date;
            </script>

            <div class="form-row">
              <label for="username">Number of Steps:</label>
              <input
                type="number"
                id="stepCount"
                min="0"
                name="stepCount"
                class="form-control"
                oninput="stepConverter(this.id,this.value)"
                onchange="stepConverter(this.id,this.value)"
                value="<%= typeof stepCount != 'undefined' ? stepCount : '' %>"
              />
            </div>
            <div class="form-row">
              <label for="username">Total Walking Distance (in Miles):</label>
              <input
                type="number"
                id="stepDistance"
                min="0"
                name="stepDistance"
                placeholder="In miles"
                class="form-control"
                oninput="stepConverter(this.id,this.value)"
                onchange="stepConverter(this.id,this.value)"
                value="<%= typeof stepDistance != 'undefined' ? stepDistance : '' %>"
              />

              <script>
                function stepConverter(source, valNum) {
                  valNum = parseFloat(valNum);

                  var inputGrams = document.getElementById("stepCount");
                  var inputStones = document.getElementById("stepDistance");
                  if (source == "stepCount") {
                    inputStones.value = (valNum * 0.0005).toFixed(2);
                  }
                  if (source == "stepDistance") {
                    inputGrams.value = (valNum * 2000).toFixed(2);
                  }
                }
              </script>
            </div>
            <p>Note: Here 1 mile = 2000 steps</p>
            <div class="form-row">
              <label for="password">Goal:</label>
              <input
                type="number"
                id="stepGoal"
                name="stepGoal"
                min="0"
                class="form-control"
                placeholder="0"
                value="<%= typeof stepGoal != 'undefined' ? stepGoal : '' %>"
              />
            </div>
            <div class="form-row">
              <div class="col-lg-12">
                <button
                  type="submit"
                  class="btn btn-primary"
                  style="margin-top: 10px"
                >
                  Update
                </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
</div>
